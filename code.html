<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sushi Platter Builder</title>
<style>
    body {
        font-family: Arial, sans-serif;
        padding: 15px;
        background: #fafafa;
        max-width: 500px;
        margin: auto;
    }
    h2 { text-align: center; }
    select, input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        font-size: 16px;
    }
    button {
        width: 100%;
        padding: 12px;
        background: #ff5722;
        border: none;
        color: white;
        font-size: 18px;
        margin-top: 8px;
        border-radius: 5px;
    }
    button:hover { opacity: 0.9; }
    .item-box {
        background: white;
        padding: 12px;
        margin-top: 12px;
        border-radius: 5px;
        box-shadow: 0 0 5px #ddd;
    }
</style>
</head>

<body>

<h2>üç£ Sushi Platter Builder</h2>

<h3>Add Rolls (10 pcs)</h3>
<select id="rollSelect"></select>
<input type="number" id="rollQty" value="1" min="1">
<button onclick="addRoll()">Add Roll</button>

<h3>Add Nigiri (1 pc)</h3>
<select id="nigiriSelect"></select>
<input type="number" id="nigiriQty" value="1" min="1">
<button onclick="addNigiri()">Add Nigiri</button>

<h3>Edit Item Cost</h3>
<select id="editItem"></select>
<input type="number" id="editCost" placeholder="Enter new cost">
<button onclick="updateCost()">Update Cost</button>

<h3>Tax %</h3>
<input type="number" id="taxRate" value="8" step="0.1">

<div id="output" class="item-box"></div>

<button onclick="clearAll()" style="background:#444;">Clear</button>

<script>
// ------------------------------
// Default Data
// ------------------------------
let rollPrices = {
    "Vegetable Roll": 6.00,
    "California Roll": 7.00,
    "Spicy Tuna Roll": 8.00,
    "Spicy Salmon Roll": 8.00,
    "Creamy Roll": 7.50
};

let nigiriPrices = {
    "Salmon Nigiri": 2.00,
    "Tuna Nigiri": 2.10,
    "Eel Nigiri": 2.50,
    "Shrimp Nigiri": 1.80,
    "Yellowtail Nigiri": 2.40
};

let selectedItems = {};
const STORE_CUT = 0.25;
const OWNER_CUT = 0.32;

// ------------------------------
// Populate dropdowns
// ------------------------------
function loadOptions() {
    let rollSel = document.getElementById("rollSelect");
    let nigiriSel = document.getElementById("nigiriSelect");
    let editSel = document.getElementById("editItem");

    rollSel.innerHTML = "";
    nigiriSel.innerHTML = "";
    editSel.innerHTML = "";

    for (let i in rollPrices) {
        rollSel.innerHTML += `<option>${i}</option>`;
        editSel.innerHTML += `<option>${i}</option>`;
    }
    for (let i in nigiriPrices) {
        nigiriSel.innerHTML += `<option>${i}</option>`;
        editSel.innerHTML += `<option>${i}</option>`;
    }
}
loadOptions();

// ------------------------------
// Add Rolls
// ------------------------------
function addRoll() {
    let item = document.getElementById("rollSelect").value;
    let qty = parseInt(document.getElementById("rollQty").value);

    selectedItems[item] = (selectedItems[item] || 0) + qty;
    updateOutput();
}

// ------------------------------
// Add Nigiri
// ------------------------------
function addNigiri() {
    let item = document.getElementById("nigiriSelect").value;
    let qty = parseInt(document.getElementById("nigiriQty").value);

    selectedItems[item] = (selectedItems[item] || 0) + qty;
    updateOutput();
}

// ------------------------------
// Update Cost
// ------------------------------
function updateCost() {
    let item = document.getElementById("editItem").value;
    let newCost = parseFloat(document.getElementById("editCost").value);

    if (isNaN(newCost)) {
        alert("Enter valid number");
        return;
    }

    if (rollPrices[item] !== undefined) rollPrices[item] = newCost;
    if (nigiriPrices[item] !== undefined) nigiriPrices[item] = newCost;

    alert(`Updated ${item} cost to $${newCost.toFixed(2)}`);
    updateOutput();
}

// ------------------------------
// Calculate & Display Output
// ------------------------------
function updateOutput() {
    let out = document.getElementById("output");
    out.innerHTML = "";

    let subtotal = 0;
    let pieces = 0;

    for (let item in selectedItems) {
        let qty = selectedItems[item];
        let price = 0;
        let pcs = 0;

        if (rollPrices[item] !== undefined) {
            price = rollPrices[item] * qty;
            pcs = qty * 10;
        } else {
            price = nigiriPrices[item] * qty;
            pcs = qty * 1;
        }

        subtotal += price;
        pieces += pcs;

        out.innerHTML += `${item} ‚Äî Qty: ${qty} ‚Äî $${price.toFixed(2)} ‚Äî ${pcs} pcs<br>`;
    }

    let taxRate = parseFloat(document.getElementById("taxRate").value) / 100;
    let tax = subtotal * taxRate;
    let total = subtotal + tax;

    let storeShare = total * STORE_CUT;
    let ownerShare = total * OWNER_CUT;
    let yourProfit = total - storeShare - ownerShare;

    out.innerHTML += `<hr>`;
    out.innerHTML += `<b>Subtotal:</b> $${subtotal.toFixed(2)}<br>`;
    out.innerHTML += `<b>Tax:</b> $${tax.toFixed(2)}<br>`;
    out.innerHTML += `<b>Total:</b> $${total.toFixed(2)}<br><br>`;

    out.innerHTML += `<b>Store (25%):</b> $${storeShare.toFixed(2)}<br>`;
    out.innerHTML += `<b>Owner (32%):</b> $${ownerShare.toFixed(2)}<br><br>`;

    out.innerHTML += `<b style="font-size:20px;color:#d32f2f">Your Profit: $${yourProfit.toFixed(2)}</b><br>`;
    out.innerHTML += `<b>Total Pieces: ${pieces}</b>`;
}

// ------------------------------
function clearAll() {
    selectedItems = {};
    updateOutput();
}
</script>

</body>
</html>
